; vim: ft=gitconfig sw=8 ts=8 noet
[color]
	ui = true
[user]
	name = Thomas Bozeman th026106
	email = thomas.bozeman@digitalglobe.com
[core]
	editor = nvim
	autocrlf = false
	excludesfile = ~/.gitignore
	pager = delta
[merge]
	tool = vimdiff
	conflictstyle = diff3
	ff = false
[mergetool]
	prompt = false
	tool = vimdiff
[diff]
	tool = vimdiff
	algorithm = histogram
	colorMoved = default
	whitespace = ignore
[difftool]
	prompt = false
	trustExitCode = true
[push]
	default = current
[credential]
	helper = cache
[fetch]
	recursesubmodules = on-demand
	prune = true
[pretty]
	myline = %C(auto)%h %C(cyan)%aN %C(green)%ad%C(auto)%d %s
	long = %C(auto)%h %C(cyan)%aN %C(green)%ad%C(auto)%d%n%B
	; long = %C(auto)%h %C(cyan)%aN %C(green)%ad%C(auto)%d%n%s%n%n%w(0,4,4)%b
	loud = %C(auto)%h %C(cyan)%aN %C(green)%ad%C(auto)%d %C(black brightyellow)%s%C(reset)
	myshort = %C(auto)%h %C(cyan)%aN %C(green)%ad%C(auto)%d%n%s
	committer = %C(auto)%h %C(cyan)%aN %C(green)%ad %C(reset)(%C(blue)%cN %C(red)%cd%C(reset))%C(auto)%d %s
	contrast = %C(black blue)%h %aN %ad%d %s
	; no colors here b/c `column` can't count characters correctly
	tableable = & %h & %aN & %ad & %<(80,trunc)%s & %d
	reflog = %C(auto)%h %C(green)%gd%C(auto)%d %gs - %C(dim blue)%s
[alias]
	s = status
	si = status --ignored
	d = diff
	ch = checkout
	co = commit
	l = log --graph --date-order --date=relative --pretty=myline
	la = l --all
	ll = l --date=human --format=long
	lla = ll --all
	lg = log --walk-reflogs --format=reflog
	lgd = log --walk-reflogs --format=reflog --date=relative
	ls = la --simplify-by-decoration
	path = l --boundary --ancestry-path
	refs = for-each-ref --format='%(refname:short)'
	longrefs = for-each-ref --format='%(refname)'
	scrub = !git reflog expire --expire-unreachable=now --all && git gc --prune=now
	; lprune = !git checkout develop && git branch --merged develop | grep -v '^. develop$' | xargs git branch -d
	; pruneable !git for-each-ref --format="%(refname:short) %(upstream)" refs/heads | grep -E " (.+)$" | while read here there; do [[ -z $(git for-each-ref $there) ]] && echo $here; done
	pruneable = !git branch --format='%(refname:short)%%%(upstream:track)' | grep -F '[gone]' | cut -d% -f1
	lprune = !git pruneable | xargs -r git branch -D
	ctags = !.git/hooks/ctags
	; pull-all = "!git refs refs/heads | while read item ; do git fetch origin $item:$item & done ; wait"
	logdiff = l --pretty=contrast --no-graph --reverse --patch
	; logwatch = "!while true; do clear ; git la --color | cut -c -$(tput cols) | head -n $[ $(tput lines) - 1]; sleep 5; done"
	logwatch = !viewpane -- git la --color
	fixup = commit -n --amend --no-edit
	logtab = !git l --pretty=tableable | column -t -s '&'
[pull]
	ff = only
[rerere]
	enabled = true
; [init]
; 	templatedir = ~/.git_template
[rebase]
	autoStash = true
[init]
	defaultBranch = main
[mailmap]
	file = ~/.git-mailmap
[log]
	date = relative
	initialDecorationSet = all
[advice]
	detachedHead = false
[checkout]
	defaultRemote = origin
[column]
; 	ui = auto column dense
	tag = auto column dense
[tag]
	sort = version:refname
[interactive]
	diffFilter = delta --color-only --features=interactive
[delta]
	features = decorations
[delta "interactive"]
	dark = true
	keep-plus-minus-markers = false
[delta "decorations"]
	; diff-so-fancy = true
	dark = true
	; side-by-side = true
	commit-decoration-style = blue ol
	commit-style = raw
	file-style = omit
	hunk-header-decoration-style = blue box
	hunk-header-file-style = red
	hunk-header-line-number-style = "#067a00"
	hunk-header-style = file line-number syntax
